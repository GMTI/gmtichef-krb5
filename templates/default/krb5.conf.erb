# Generated by Chef for <%= node['fqdn'] %>
# Local modifications will be overwritten.
<% if @logging %>
[logging]
<% @logging.each do |k, v| %>
 <%= k %> = <%= v %>
<% end %>
<% end %>

<% if @libdefaults %>
[libdefaults]
<% @libdefaults.each do |k, v| %>
 <% if k == 'default_realm' %>
  <% v = v.upcase %>
 <% end %>
 <%= k %> = <%= v %>
<% end %>
<% end %>

[realms]
 <% unless node['krb5']['default_realm_kdcs'].empty? -%>
 <%= node['krb5']['default_realm'].upcase %> = {
  <% node['krb5']['default_realm_kdcs'].each do |kdc_server| -%>
  kdc = <%= kdc_server %>
  <% end -%>
 }
 <% end -%>

 <% node['krb5']['realms'].each do |krb5_realm| -%>
 <%= krb5_realm.downcase -%> = <%= krb5_realm.upcase %>
 .<%= krb5_realm.downcase -%> = <%= krb5_realm.upcase %>
 <% end -%>

[appdefaults]
 pam = {
   debug = false
   ticket_lifetime = <%= node['krb5']['ticket_lifetime'] %>
   renew_lifetime = <%= node['krb5']['renew_lifetime'] %>
   forwardable = <%= node['krb5']['forwardable'] %>
   krb4_convert = false
 }
